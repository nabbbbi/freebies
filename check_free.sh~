#!/bin/bash

# URLs

GOG_URL=https://m.joyreactor.cc/tag/gog%20%D1%85%D0%B0%D0%BB%D1%8F%D0%B2%D0%B0/new
UNITY_URL=https://m.joyreactor.cc/tag/Unity%20%D1%85%D0%B0%D0%BB%D1%8F%D0%B2%D0%B0/new
STEAM_URL=https://m.joyreactor.cc/tag/Steam%C2%A0%D1%85%D0%B0%D0%BB%D1%8F%D0%B2%D0%B0/new
EPIC_URL=https://m.joyreactor.cc/tag/EGS%20%D1%85%D0%B0%D0%BB%D1%8F%D0%B2%D0%B0/new
FREE_URL=https://m.joyreactor.cc/tag/%D0%A5%D0%B0%D0%BB%D1%8F%D0%B2%D0%B0/new
KEY_URL=https://m.joyreactor.cc/tag/%D0%BA%D0%BB%D1%8E%D1%87%D0%B8%20%D0%B8%20%D0%BA%D1%83%D0%BF%D0%BE%D0%BD%D1%8B%20steam/new
ANON_URL=https://m.joyreactor.cc/tag/anon/new

C=0

#while read line; do
 #   ${POST[$C]}=$line
  #  C=$((C+1))
#done < $HOME/test/list.txt

# Original values

GOG=134
UNITY=43
STEAM=2699
EPIC=97
FREE=3658
KEY=48
ANON=208202

# Creating arrays

POST=("$GOG" "$UNITY" "$STEAM" "$EPIC" "$FREE" "$KEY" "$ANON")
URLS=("$GOG_URL" "$UNITY_URL" "$STEAM_URL" "$EPIC_URL" "$FREE_URL" "$KEY_URL" "$ANON_URL")

I=0
B=TRUE

while test $B == "TRUE"; do
    for C in {0..6}; do
	RESULT=`curl --silent ${URLS[$C]} | sed 's/ /\n/g' | grep Постов | sed 's/[</>":]/ /g' | awk '{print $8}'`
	
	# if original values is not matched with result then launch chromium-browser
	
	if test ${POST[C]} != $RESULT; then
	    # and update original values to output of RESULT
	    
	    POST[$C]=$RESULT
	    chromium-browser --new-window ${URLS[C]}
	fi
    done
    sleep 60
done
